<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>지영짱</title>
<link href="../css/style.css"rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
	
	//휴대폰번호 입력시 하이픈 자동입력
	$(document).on("keyup", "#phone", 
			function() { 
				$(this).val( $(this).val().replace(/[^0-9]/g, "").replace(/(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})$/,"$1-$2-$3").replace("--", "-") ); });


	function insert(fm){
		var email = $("#email").val();
		var name = $("#name").val();
		var phone = $("#phone").val();
		var regPhone = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;
		var regEmail = /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/;
		
		if(email == "") {
			alert("이메일을 입력해주세요.");
			$("#email").focus();
			return;
		}
		if(name == "") {
			alert("이름을 입력해주세요.");
			$("#name").focus();
			return;
		}
		if(phone == "") {
			alert("휴대폰번호를 입력해주세요.");
			$("#phone").focus();
			return;
		}
		
		if(!regEmail.test(email)){
			alert("이메일 형식을 확인해주세요.");
			$("#email").focus();
			return;
		}
		if(!regPhone.test(phone)){
			alert("휴대폰번호 형식을 확인해주세요.");
			$("#phone").focus();
			return;
		}
		
		fm.action = "insertUser";
		fm.submit();
	}
	
</script>
<style>
.btn{
	width: 150px;
	height: 70px;
	background-color: skyblue;
	font-size: 20px;
}
</style>
</head>
<body>
	<form id="fm" method="post">
		<h1>추가</h1>
		<table>
			<tr>
				<td>email</td>
				<td><input type="text" name="email" id="email"></td>
			</tr>
			<tr>
				<td>name</td>
				<td><input type="text" name="name" id="name"></td>
			</tr>
			<tr>
				<td>phone</td>
				<td><input type="text" name="phone" id="phone" placeholder="숫자만 입력"></td>
			</tr>
		</table>
		<input type="button" value="▶추가하기◀" class="btn" onclick="insert(this.form)">
		<input type="button" value="리스트로~" class="btn" onclick="location.href='getUserList'">
	</form>
</body>
</html>